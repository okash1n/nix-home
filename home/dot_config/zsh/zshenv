export ZDOTDIR="$HOME/.config/zsh"

# VS Code 等から __NIX_DARWIN_SET_ENVIRONMENT_DONE=1 だけ継承される場合のフォールバック
: "${CLAUDE_CONFIG_DIR:=$HOME/.config/claude}"
: "${CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS:=1}"
: "${CODEX_HOME:=$HOME/.config/codex}"
: "${GEMINI_CLI_HOME:=$HOME/.config/gemini}"
: "${HAPPY_HOME_DIR:=$HOME/.config/happy}"
: "${NIX_HOME_AGENT_SKILLS_DIR:=$HOME/nix-home/agent-skills}"
: "${NIX_HOME_MCP_DEFAULT_ENABLED:=0}"
: "${NIX_HOME_MCP_FORCE_ENABLED:=jina,claude-mem}"
: "${NIX_HOME_MCP_FORCE_DISABLED:=}"
: "${VIMINIT:=source $HOME/.config/vim/vimrc}"
export CLAUDE_CONFIG_DIR CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS CODEX_HOME GEMINI_CLI_HOME HAPPY_HOME_DIR NIX_HOME_AGENT_SKILLS_DIR NIX_HOME_MCP_DEFAULT_ENABLED NIX_HOME_MCP_FORCE_ENABLED NIX_HOME_MCP_FORCE_DISABLED VIMINIT

if [ -f "$HOME/.config/sops-nix/secrets/rendered/sops-env.sh" ]; then
  source "$HOME/.config/sops-nix/secrets/rendered/sops-env.sh"
fi
