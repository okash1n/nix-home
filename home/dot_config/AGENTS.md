# グローバルエージェント指示

このファイルはすべてのプロジェクトに適用される共通指示です。

## 基本方針

- 提案・意見には、まず欠陥・不足・代替案を検討する。問題がなければ明示的な条件付きで同意する
- エラーは即座に修正、不明点は確認してから進める

## 検索

- 日本のトピック → 日本語で検索
- 技術トピック → 英語で検索（日本固有の場合は日本語）
- アジア圏 → 中国語・韓国語も検討
- 優先順位: 一次情報 > 学術 > 公式 > ニュース

## OSS調査

- OSSの実装を調べる場合は `ghq get` でリポジトリを取得してソースを直接読む
- Web検索やドキュメントのfetchより、ソースコードを優先する
- 取得先: `~/ghq/` 配下

## 言語

- 日本語で応答する

## コーディング規約

### コードスタイル

- コード、コメント、ドキュメントに絵文字を使わない
- 不変性を優先（オブジェクトや配列を変更しない）
- 少数の大きなファイルより多数の小さなファイル
- 目安: 200-400行、最大800行/ファイル

### Git

- 日本語でコミットメッセージを書く
- 変更の種類が分かるタイトルにする（例: 「認証バグを修正」「ユーザー一覧機能を追加」）
- コミット前にローカルでテスト・検証する
- 小さく焦点を絞ったコミット

### テスト（テスト可能なコードに対して）

- 可能な限りテストを先に書く
- 重要なフローにはユニット + 統合テスト

## Git操作

- 必ず gitconfig global の設定（user.name, user.email）を使用すること
- エージェント自身の名前でコミットしないこと
- git config を勝手に変更しないこと

## 作業フロー

1. このファイル（グローバル共通指示）に従う
2. プロジェクト直下に指示ファイルがあればそちらを優先する
3. プロジェクト固有のルールでオーバーライドされていない限り、この指示に従う
4. 可能であれば並列作業を試みること

## 確認事項

- 提案・意見に対して → 批判的に検討したか？根拠はあるか？代替案は？
- 検索時 → 言語は適切か？
- 常に → 日本語で応答しているか？次のステップに進んでいるか？
- コード → 読みやすく保守可能か？
